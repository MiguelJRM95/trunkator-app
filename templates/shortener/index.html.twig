{% extends 'base.html.twig' %}{% block body %}
<nav
  class="navbar navbar-light shadow"
  style="background-color: #e3f2fd; height: 7vh"
>
  <div class="container-fluid" style="margin: 0 2vw 0 2vw">
    <a class="navbar-brand" href="#">
      <img
        src="/assets/images/logo.png"
        alt=""
        width="30"
        height="24"
        class="d-inline-block align-text-top"
      />
      Trunkator
    </a>
    <button
      class="navbar-toggler shadow-none"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseExample"
      aria-expanded="false"
      aria-controls="collapseExample"
    >
      <i class="bi bi-list"></i>
    </button>
    <div class="collapse navbar-collapse" id="collapseExample">
      <div
        class="card card-body avbar-nav me-auto mb-2 mb-lg-0"
        style="margin-top: 2vh; text-align: center"
      >
        Tu sitio de referencia donde acortar tus URL's gratuito, sin trampas.
        Podrás generar tu propia URL o que la generemos nosotros por ti.
      </div>
    </div>
  </div>
</nav>
{% if created is defined %}
<div
  style="
    text-align: center;
    margin-top: 10px;
    display: flex;
    justify-content: center;
  "
>
  <p
    style="
      padding: 10px;
      border-radius: 10px;
      background-color: #00ffff;
      width: fit-content;
    "
  >
    {{ created }}
    <i
      class="bi bi-x-square-fill closable"
      style="margin-left: 15px; cursor: pointer"
    ></i>
  </p>
</div>
{% endif %} {% for message in app.flashes('error') %}
<div
  style="
    text-align: center;
    margin-top: 10px;
    display: flex;
    justify-content: center;
  "
>
  <p
    style="
      padding: 10px;
      border-radius: 10px;
      background-color: #00ffff;
      width: fit-content;
    "
  >
    {{ message }}
    <i
      class="bi bi-x-square-fill closable"
      style="margin-left: 15px; cursor: pointer"
    ></i>
  </p>
</div>
{% endfor %}
<div
  style="
    display: flex;
    align-items: center;
    justify-content: center;
    height: 80vh;
    padding: 0 10% 0 10%;
  "
>
  <div
    class="card shadow rounded"
    style="
      min-width: 280px;
      max-width: 450px;
      margin-right: 5vw;
      min-height: 300px;
      max-height: 450px;
    "
  >
    <div
      class="card-body"
      style="display: flex; justify-content: center; flex-direction: column"
    >
      <h5 class="card-title">Autogenerar URL</h5>
      <p class="card-text">
        Introduce la URL que desees acortar y te generaremos una nueva.
      </p>
      <form
        method="POST"
        action="{{ path('autogenerated') }}"
        class="form-floating"
        style="display: flex; justify-content: center; flex-direction: column"
      >
        <div class="form-floating">
          <input
            type="text"
            class="form-control mb-3"
            id="originalUrl"
            name="url"
            placeholder="www.myplace.com"
            required
            autocomplete="off"
          />
          <label for="originalUrl">URL Original</label>
        </div>
        {% if invalidAutogenerated is defined %}
        <p>{{ invalidAutogenerated }}</p>
        {% endif %}
        <button
          type="submit"
          class="btn btn-primary"
          style="align-self: center"
        >
          Autogenerar
        </button>
        {% if autogenerated is defined and autogenerated == true %}
        <p
          style="
            margin-top: 1em;
            align-self: center;
            padding: 10px;
            border-radius: 10px;
            background-color: #00ffff;
            width: fit-content;
          "
        >
          {{ endpoint }}
        </p>
        {% endif %}
      </form>
    </div>
  </div>
  <div
    class="card shadow rounded"
    style="
      min-width: 280px;
      max-width: 450px;
      margin-left: 5vw;
      min-height: 300px;
      max-height: 450px;
    "
  >
    <div
      class="card-body"
      style="display: flex; justify-content: center; flex-direction: column"
    >
      <h5 class="card-title">Custom URL</h5>
      <p class="card-text">
        Introduce la URL que desees acortar y la nueva que desees. Debe de ser
        una única palabra y solo caracteres alfanuméricos.
      </p>
      <form
        method="POST"
        action="{{ path('custom') }}"
        style="display: flex; justify-content: center; flex-direction: column"
      >
        <div class="form-floating">
          <input
            type="text"
            class="form-control mb-3"
            name="urlCustom"
            id="originalUrl"
            placeholder="www.myplace.com"
            required
            autocomplete="off"
          />
          <label for="originalUrl">URL Original</label>
          {% if invalidCustom is defined %}
          <p>{{ invalidCustom }}</p>
          {% endif %}
        </div>
        <div class="form-floating">
          <input
            type="text"
            class="form-control mb-3"
            name="endpoint"
            id="newUrl"
            placeholder="nuevaUrl"
            required
            autocomplete="off"
          />
          <label for="newUrl">Nueva URL</label>
          {% if invalidEndPoint is defined %}
          <p>{{ invalidEndPoint }}</p>
          {% endif %}
        </div>

        <button
          type="submit"
          class="btn btn-primary"
          style="align-self: center"
        >
          Generar
        </button>
        {% if autogenerated is defined and autogenerated == false %}
        <p
          style="
            margin-top: 1em;
            align-self: center;
            padding: 10px;
            border-radius: 10px;
            background-color: #00ffff;
            width: fit-content;
          "
        >
          {{ endpoint }}
        </p>
        {% endif %}
      </form>
    </div>
  </div>
</div>
{% endblock %}
